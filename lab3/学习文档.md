### socket

int socket(int domain,int type,int protocol);

domain表示通信协议 AF_INET表示ipv4

type指定socket类型 sock_stream表示通过流进行传输 可以：可靠地递送 面向连接 但不可消息边界保留

protocol参数应设某个协议类型常值 0表示自动识别取默认值

#### sockaddr_in

1. sin_family指定协议
2. sin_port 16位TCP/UDP端口
3. sin_addr 32位ipv4地址


#### htons 

将端口号由主机字节序转换为网络字节序的整数值

*256 mod 65536

#### bind

int bind(int sockfd, struct sockaddr* servaddr, socklen_t len);

此函数用于把某个本地协议地址赋予给套接字(sockfd)

#### listen

监听套接字 第二个参数是最大连接数

创建等待连接队列以供accept使用

#### accept

SOCKET accept（int sockfd，struct sockaddr *addr，socklen_t *addrlen）;　

函数从S的等待连接队列中抽取第一个连接，创建一个与S同类的新的套接口并返回句柄。

sockefd：套接字描述符，该套接字在listen（）后监听连接。

addr：（可选）指针。指向一个缓冲区，其中接收为通讯层所知的连接实体的地址。Addr参数的实际格式由套接口创建时所产生的地址族确定。

addrlen：（可选）指针。输入参数，配合addr一起使用，指向存有addr地址长度的整形数。

### pthread

#### 创建

int   pthread_create(pthread_t *thread, pthread_attr_t *attr, void *(*start_routine)(void *), void *arg)

第一个参数为指向线程标识符的指针，也就是线程对象的指针

第二个参数用来设置线程属性。

第三个参数是线程运行函数的地址，通俗理解线程要执行函数（线程做的事情的）指针。一般这个函数执行时间比较长（有while循环），做的事情比较多。如果单次动作（执行时间比较短），也就无需多线程执行了。

最后一个参数是线程要运行函数的参数

#### 等待

int pthread_join(pthread_t thread, void **retval);
args:
    pthread_t thread: 被连接线程的线程号
    void **retval : 指向一个指向被连接线程的返回码的指针的指针
return:
    线程连接的状态，0是成功，非0是失败


相当于wait/waitpid

### shell

#### echo

-e : 支持转义字符